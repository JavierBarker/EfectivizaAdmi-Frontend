<!-- component -->

<div class="w-full flex justify-center">
    <a (click)="showLoanModal = true" class="btn btn-primary ">Agregar Prestamo Cliente</a>
</div>

<section class="text-gray-600 body-font">
    <div class="container px-5 py-24 mx-auto">
        <div class="flex flex-wrap -m-4">
            <div *ngFor="let loans of loansRequest" class="xl:w-1/3 md:w-1/2 p-4">
                <div class="border border-gray-200 p-6 rounded-lg">
                    <div
                        class="w-10 h-10 inline-flex items-center justify-center rounded-full bg-indigo-100 text-indigo-500 mb-4">
                        <svg *ngIf="loans.typeLoan === 'Vehículo'" fill="none" stroke="currentColor"
                            stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-6 h-6"
                            viewBox="0 0 24 24">
                            <path
                                d="M23.5 7c.276 0 .5.224.5.5v.511c0 .793-.926.989-1.616.989l-1.086-2h2.202zm-1.441 3.506c.639 1.186.946 2.252.946 3.666 0 1.37-.397 2.533-1.005 3.981v1.847c0 .552-.448 1-1 1h-1.5c-.552 0-1-.448-1-1v-1h-13v1c0 .552-.448 1-1 1h-1.5c-.552 0-1-.448-1-1v-1.847c-.608-1.448-1.005-2.611-1.005-3.981 0-1.414.307-2.48.946-3.666.829-1.537 1.851-3.453 2.93-5.252.828-1.382 1.262-1.707 2.278-1.889 1.532-.275 2.918-.365 4.851-.365s3.319.09 4.851.365c1.016.182 1.45.507 2.278 1.889 1.079 1.799 2.101 3.715 2.93 5.252zm-16.059 2.994c0-.828-.672-1.5-1.5-1.5s-1.5.672-1.5 1.5.672 1.5 1.5 1.5 1.5-.672 1.5-1.5zm10 1c0-.276-.224-.5-.5-.5h-7c-.276 0-.5.224-.5.5s.224.5.5.5h7c.276 0 .5-.224.5-.5zm2.941-5.527s-.74-1.826-1.631-3.142c-.202-.298-.515-.502-.869-.566-1.511-.272-2.835-.359-4.441-.359s-2.93.087-4.441.359c-.354.063-.667.267-.869.566-.891 1.315-1.631 3.142-1.631 3.142 1.64.313 4.309.497 6.941.497s5.301-.184 6.941-.497zm2.059 4.527c0-.828-.672-1.5-1.5-1.5s-1.5.672-1.5 1.5.672 1.5 1.5 1.5 1.5-.672 1.5-1.5zm-18.298-6.5h-2.202c-.276 0-.5.224-.5.5v.511c0 .793.926.989 1.616.989l1.086-2z" />
                        </svg>
                        <svg *ngIf="loans.typeLoan === 'Inmobiliario'" fill="none" stroke="currentColor"
                            stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-6 h-6"
                            viewBox="0 0 24 24">
                            <path d="M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z" />
                        </svg>
                        <svg *ngIf="loans.typeLoan === 'Joyería'" xmlns="http://www.w3.org/2000/svg"
                            stroke="currentColor" stroke-linecap="round" fill="currentColor" width="24" height="24"
                            viewBox="0 0 24 24">
                            <path
                                d="M7.388 9h9.225l-4.613 14-4.612-14zm.612-2h8l-4-5.333-4 5.333zm10.5 0h5.5l-6-6h-4l4.5 6zm-13 0l4.5-6h-3.916l-6.084 6h5.5zm-5.5 2l9.234 12-3.955-12h-5.279zm18.721 0l-3.924 12 9.203-12h-5.279z" />
                        </svg>

                        <svg *ngIf="loans.typeLoan === 'Mobiliario'" width="24" height="24"
                            xmlns="http://www.w3.org/2000/svg" fill="currentColor" clip-rule="evenodd">
                            <path
                                d="M24 19v-7c0-.265-.105-.52-.293-.707-.187-.188-.442-.293-.707-.293h-22c-.265 0-.52.105-.707.293-.188.187-.293.442-.293.707v7h1v-2h22v2h1zm-1-6.5c0-.133-.053-.26-.146-.354-.094-.093-.221-.146-.354-.146h-21c-.133 0-.26.053-.354.146-.093.094-.146.221-.146.354v3.5h22v-3.5zm-20-2.5v-3.5c0-.276.224-.5.5-.5h17c.276 0 .5.224.5.5v3.5h1v-4c0-.265-.105-.52-.293-.707-.187-.188-.442-.293-.707-.293h-18c-.265 0-.52.105-.707.293-.188.187-.293.442-.293.707v4h1zm2 0h6v-2c0-.552-.448-1-1-1h-4c-.552 0-1 .448-1 1v2zm8 0h6v-2c0-.552-.448-1-1-1h-4c-.552 0-1 .448-1 1v2zm-3-1v-.6c0-.221-.179-.4-.4-.4h-3.2c-.221 0-.4.179-.4.4v.6h4zm8 0v-.6c0-.221-.179-.4-.4-.4h-3.2c-.221 0-.4.179-.4.4v.6h4z" />
                        </svg>

                        <svg *ngIf="loans.typeLoan === 'Línea Blanca'" xmlns="http://www.w3.org/2000/svg" width="24"
                            height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M22 4v12h-20v-12h20zm2-2h-24v16h24v-16zm-17.836 5h5.673v1.418h-2.01v4.582h-1.653v-4.582h-2.01v-1.418zm9.961 0l-1.158 3.653-1.151-3.653h-1.701l1.942 6h1.792l1.986-6h-1.71zm-9.125 13c1 1.194 2.862 2 5 2s4-.806 5-2h-10z" />
                        </svg>

                    </div>
                    <h2 class="text-lg text-gray-900 font-medium title-font mb-2">{{loans.typeLoan}}</h2>
                    <p class="leading-relaxed text-base">Tipo: {{loans.description.type}}</p>
                    <p *ngIf="loans.typeLoan === 'Vehículo'" class="leading-relaxed text-base">Modelo:
                        {{loans.description.mark}}</p>
                    <p *ngIf="loans.typeLoan === 'Vehículo'" class="leading-relaxed text-base">Modelo:
                        {{loans.description.model}}</p>
                    <p *ngIf="loans.typeLoan === 'Vehículo'" class="leading-relaxed text-base">Año:
                        {{loans.description.year}}</p>


                    <p *ngIf="loans.typeLoan != 'Vehículo'" class="leading-relaxed text-base">Descripción:
                        {{loans.description.description}}</p>
                    <p *ngIf="loans.typeLoan === 'Inmobiliario'" class="leading-relaxed text-base">Dirección:
                        {{loans.description.direction}}</p>

                    <div *ngIf="loans.canceled === false" class="alert alert-info">
                        <div class="flex-1 font-bold">
                            <label>Estado de Cancelación: Sin Cancelar</label>
                        </div>
                    </div>

                    <div *ngIf="loans.canceled === true" class="alert alert-success">
                        <div class="flex-1 font-bold">
                            <label>Estado de Cancelación: Cancelado</label>
                        </div>
                    </div>
                    <div class="py-3 px-6 text-center">
                        <div class="flex item-center justify-center">
                            <div (click)="getLoanModal = true; loanById(loans._id)"
                                class="w-4 mr-2 transform hover:text-purple-500 hover:scale-110">

                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                </svg>
                            </div>
                            <div (click)="editLoanModal = true; loanById(loans._id)"
                                class="w-4 mr-2 transform hover:text-purple-500 hover:scale-110">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                                </svg>
                            </div>
                            <div (click)="deleteLoanModal = true; loanById(loans._id)"
                                class="w-4 mr-2 transform hover:text-purple-500 hover:scale-110">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--AGREGAR PRESTAMO-->
<div data-theme="light" class="modal-container">
    <input type="checkbox" id="search-modal" [checked]="showLoanModal" class="modal-toggle">
    <div class="modal bg-opacity-50 bg-blacks">
        <div class="modal-box p-0 pt-6 text-left">

            <div class="w-full bg-grey-500">
                <div class="container mx-auto py-8">
                    <div class="w-96 mx-auto bg-white rounded border border-green-500">
                        <div class="p-5">
                            <ul class="w-full steps">
                                <li class="step step-info">Paso 1</li>
                                <li *ngIf="step === 0" class="step">Paso 2</li>
                                <li *ngIf="step === 1" class="step step-info">Paso 2</li>
                            </ul>
                            <form class="mt-8 p-4" [formGroup]="loanForm">
                                <div *ngIf="step === 0">

                                    <div class="flex flex-col md:flex-row">
                                        <div class="w-full flex-1 mx-2 svelte-1l8159u">
                                            <div class="mb-4">
                                                <label class="block text-grey-darker text-sm font-bold mb-2">ID
                                                    Usuario:</label>
                                                <input required disabled
                                                    class=" border rounded w-full py-2 px-3 text-grey-darker"
                                                    type="text" name="clientID" id="clientID" [value]="idClient"
                                                    placeholder="Ingresa el DPI">

                                            </div>

                                            <div class="mb-4">
                                                <label
                                                    class="block text-grey-darker text-sm font-bold mb-2">Monto:</label>
                                                <div class="flex items-center">
                                                    <p class="text-2xl mr-2">Q.</p>
                                                    <input required formControlName="amount"
                                                        class=" border rounded w-full py-2 px-3 text-grey-darker"
                                                        type="number" name="monto" id="monto" placeholder="0000.00">
                                                </div>

                                            </div>

                                            <div class="mb-4">
                                                <label class="block text-grey-darker text-sm font-bold mb-2">Fecha a
                                                    Pagar:</label>
                                                <!--<input  required formControlName="paymentDate"
                                                    class=" border rounded w-full py-2 px-3 text-grey-darker" type="date"
                                                    name="paymentDate" id="paymentDate" [min]="2021-09-08" placeholder="Ingresa el DPI">
                                                    -->
                                                <div class="flex items-center">
                                                    <input matInput formControlName="paymentDate" [min]="minDate"
                                                        [matDatepicker]="picker"
                                                        class=" border rounded w-full py-2 px-3 text-grey-darker">
                                                    <mat-datepicker-toggle matSuffix [for]="picker">
                                                    </mat-datepicker-toggle>
                                                    <mat-datepicker #picker></mat-datepicker>
                                                </div>
                                            </div>

                                            <div class="mb-4">
                                                <label class="block text-grey-darker text-sm font-bold mb-2">Tipo de
                                                    Prestamo:</label>
                                                <select formControlName="typeLoan" id="typeLoan" name="role"
                                                    class=" border rounded w-full py-2 px-3 text-grey-darker">
                                                    <option value="">-- Selecciona el Tipo --</option>
                                                    <option>Mobiliario</option>
                                                    <option>Inmobiliario</option>
                                                    <option>Vehículo</option>
                                                    <option>Joyería</option>
                                                    <option>Línea Blanca</option>
                                                </select>
                                                <p id=error_creater_id></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div *ngIf="step === 1">

                                    <div *ngIf="typeForm === 'Mobiliario'" class="flex flex-col md:flex-row">

                                        <div formGroupName="description" class="w-full flex-1 mx-2 svelte-1l8159u">
                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Descripción</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <textarea formControlName="description" placeholder="Descripción"
                                                    class="max-h-44 p-1 px-2 appearance-none outline-none w-full text-gray-800"></textarea>
                                            </div>

                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Tipo</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input placeholder="Tipo" formControlName="type"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="typeForm === 'Vehículo'" class="flex flex-col md:flex-row">

                                        <div formGroupName="description" class="w-full flex-1 mx-2 svelte-1l8159u">
                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Marca</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input formControlName="mark" placeholder="Marca"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>

                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Modelo</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input formControlName="model" placeholder="Modelo"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>

                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Año</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input formControlName="year" placeholder="Año"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>

                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Tipo</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input formControlName="type" placeholder="Tipo"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="typeForm === 'Joyería'" class="flex flex-col md:flex-row">

                                        <div formGroupName="description" class="w-full flex-1 mx-2 svelte-1l8159u">
                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Descripcion</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <textarea formControlName="description" placeholder="Descripción"
                                                    class="max-h-44 p-1 px-2 appearance-none outline-none w-full text-gray-800"></textarea>
                                            </div>

                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Tipo</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input formControlName="type" placeholder="Tipo"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="typeForm === 'Línea Blanca'" class="flex flex-col md:flex-row">

                                        <div formGroupName="description" class="w-full flex-1 mx-2 svelte-1l8159u">
                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Descripcion</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <textarea formControlName="description" placeholder="Descripción"
                                                    class="max-h-44 p-1 px-2 appearance-none outline-none w-full text-gray-800"></textarea>
                                            </div>

                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Tipo</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input formControlName="type" placeholder="Tipo"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>
                                        </div>
                                    </div>

                                    <div *ngIf="typeForm === 'Inmobiliario'" class="flex flex-col md:flex-row">

                                        <div formGroupName="description" class="w-full flex-1 mx-2 svelte-1l8159u">
                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Descripcion</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <textarea formControlName="description" placeholder="Descripción"
                                                    class="max-h-44 p-1 px-2 appearance-none outline-none w-full text-gray-800"></textarea>
                                            </div>
                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Dirección</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input formControlName="direction" placeholder="Direccion"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>

                                            <div
                                                class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                Tipo</div>
                                            <div
                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded svelte-1l8159u">
                                                <input formControlName="type" placeholder="Tipo"
                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                            </div>
                                        </div>
                                    </div>

                                </div>


                                <div class="flex p-2 mt-4">
                                    <button *ngIf="step === 1" (click)=" previous()" class="text-base hover:scale-110 focus:outline-none flex justify-center px-4 py-2 rounded font-bold cursor-pointer
                                hover:bg-gray-200
                                bg-gray-100
                                text-gray-700
                                border duration-200 ease-in-out
                                border-gray-600 transition">Anterior</button>
                                    <div class="flex-auto flex flex-row-reverse">
                                        <button type="submit" *ngIf="step === 0" class="text-base  ml-2  hover:scale-110 focus:outline-none flex justify-center px-4 py-2 rounded font-bold cursor-pointer
                                hover:bg-teal-600
                                bg-teal-600
                                text-teal-100
                                border duration-200 ease-in-out
                                border-teal-600 transition" (click)=" next(); checkForm()">Next</button>
                                        <button type="submit" *ngIf="step === 1" class="text-base  ml-2  hover:scale-110 focus:outline-none flex justify-center px-4 py-2 rounded font-bold cursor-pointer
                                hover:bg-teal-600
                                bg-teal-600
                                text-teal-100
                                border duration-200 ease-in-out
                                border-teal-600 transition" (click)=" addLoan()">save</button>
                                        <button class="text-base hover:scale-110 focus:outline-none flex justify-center px-4 py-2 rounded font-bold cursor-pointer
                                hover:bg-teal-200
                                bg-teal-100
                                text-teal-700
                                border duration-200 ease-in-out
                                border-teal-600 transition" (click)="resetForm(); showLoanModal = false; cancel()">Cancelar</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--MOSTRAR PRESTAMO-->
<div data-theme="light" class="modal-container">
    <input type="checkbox" id="search-modal" [checked]="getLoanModal" class="modal-toggle">
    <div class="modal bg-opacity-50 bg-blacks">
        <div class="modal-box p-0 pt-6 text-left">

            <div class="w-full bg-grey-500">
                <div class="container mx-auto py-8">
                    <div class="w-96 mx-auto bg-white rounded border border-green-500">
                        <div class="container mx-auto my-4">
                            <div>

                                <div class="bg-white relative w-11/12 mx-auto">
                                    <!--<div class="flex justify-center">
                                      <img src="https://pantazisoft.com/img/avatar-2.jpeg" alt="" class="rounded-full mx-auto absolute -top-20 w-32 h-32 shadow-2xl border-4 border-white">
                              </div>-->

                                    <div class="mt-4">
                                        <div class="my-5">
                                            <a
                                                class="text-gray-200 block font-bold text-center text-2xl leading-6 px-6 py-3 bg-green-500">Tipo:
                                                {{getLoanById?.typeLoan}}
                                                <span class="font-bold"></span></a>
                                        </div>
                                        <div class="w-full">
                                            <h1 class="font-bold text-center text-3xl text-gray-900">
                                                Descripción
                                            </h1>
                                            <p class="leading-relaxed text-base">Tipo: {{getLoanById?.description.type}}
                                            </p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Modelo:
                                                {{getLoanById?.description.mark}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Modelo:
                                                {{getLoanById?.description.model}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Año:
                                                {{getLoanById?.description.year}}</p>


                                            <p *ngIf="getLoanById?.typeLoan != 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Descripción:
                                                {{getLoanById?.description.description}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Inmobiliario'"
                                                class="leading-relaxed text-base">Dirección:
                                                {{getLoanById?.description.direction}}</p>
                                            <div class="mt-5 w-full">

                                                <a
                                                    class="w-full border-t-2 border-gray-100 font-medium text-gray-600 py-4 px-4 w-full block hover:bg-gray-100 transition duration-150">

                                                    Fecha del Prestamo:
                                                    <span class="text-gray-400 text-sm">{{getLoanById?.loanDate | date:'shortDate'}}</span>
                                                </a>

                                                <a
                                                    class="w-full border-t-2 border-gray-100 font-medium text-gray-600 py-4 px-4 w-full block hover:bg-gray-100 transition duration-150">
                                                    Fecha de Pago:
                                                    <span
                                                        class="text-gray-400 text-sm">{{getLoanById?.paymentDate | date:'shortDate'}}</span>
                                                </a>
                                            </div>
                                            <div class="w-full flex-1 mx-2 svelte-1l8159u">
                                                <div class=" flex item-center">
                                                    <div class="w-1/2">
                                                        <div
                                                            class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                            Abono</div>
                                                        <div class="flex items-center w-full">
                                                            <p class="pr-2 text-2xl">Q. {{getLoanById?.payment}}.00</p>
                                                        </div>
                                                    </div>
                                                    <div class="w-1/2">
                                                        <div
                                                            class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                            Monto</div>
                                                        <div class="flex items-center w-full">
                                                            <p class="pr-2 text-2xl">Q. {{getLoanById?.amount}}.00</p>
                                                        </div>
                                                    </div>
                                                </div>



                                                <div class="mb-4">
                                                    <label *ngIf="getLoanById?.canceled === false"
                                                        class="flex block text-grey-darker text-sm font-bold mb-2">Estado
                                                        de
                                                        Cancelación: <p class="pl-2 italic text-green-500">
                                                            Sin Cancelar</p></label>
                                                            <label *ngIf="getLoanById?.canceled === true"
                                                        class="flex block text-grey-darker text-sm font-bold mb-2">Estado
                                                        de
                                                        Cancelación: <p class="pl-2 italic text-green-500">
                                                            Cancelado</p></label>
                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="modal-action  rounded-b-2xl px-5 mt-2 pb-5">

                                <label (click)="getLoanModal = false" for="search-modal"
                                    class="btn-modal-close btn btn-sm bg-white hover:bg-grey-300 hover:text-white text-black !font-medium">Cerrar</label>
                            </div>
                            <div class="modal-action  rounded-b-2xl px-5 mt-2 pb-5">
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--EDITAR PRESTAMO-->
<div data-theme="light" class="modal-container">
    <input type="checkbox" id="search-modal" [checked]="editLoanModal" class="modal-toggle">
    <div class="modal bg-opacity-50 bg-blacks">
        <div class="modal-box p-0 pt-6 text-left">

            <div class="w-full bg-grey-500">
                <div class="container mx-auto py-8">
                    <div class="w-96 mx-auto bg-white rounded border border-green-500">
                        <form [formGroup]="loanEditForm" class="container mx-auto my-4">
                            <div>

                                <div class="bg-white relative w-11/12 mx-auto">
                                    <!--<div class="flex justify-center">
                                      <img src="https://pantazisoft.com/img/avatar-2.jpeg" alt="" class="rounded-full mx-auto absolute -top-20 w-32 h-32 shadow-2xl border-4 border-white">
                              </div>-->

                                    <div class="mt-4">
                                        <div class="my-5">
                                            <a
                                                class="text-gray-200 block font-bold text-center text-2xl leading-6 px-6 py-3 bg-green-500">Tipo:
                                                {{getLoanById?.typeLoan}}
                                                <span class="font-bold"></span></a>
                                        </div>
                                        <div class="w-full">
                                            <h1 class="font-bold text-center text-3xl text-gray-900">
                                                Descripción
                                            </h1>
                                            <p class="leading-relaxed text-base">Tipo: {{getLoanById?.description.type}}
                                            </p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Modelo:
                                                {{getLoanById?.description.mark}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Modelo:
                                                {{getLoanById?.description.model}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Año:
                                                {{getLoanById?.description.year}}</p>


                                            <p *ngIf="getLoanById?.typeLoan != 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Descripción:
                                                {{getLoanById?.description.description}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Inmobiliario'"
                                                class="leading-relaxed text-base">Dirección:
                                                {{getLoanById?.description.direction}}</p>
                                            <div class="mt-5 w-full">

                                                <a
                                                    class="w-full border-t-2 border-gray-100 font-medium text-gray-600 py-4 px-4 w-full block hover:bg-gray-100 transition duration-150">

                                                    Fecha del Prestamo:
                                                    <span class="text-gray-400 text-sm">{{getLoanById?.loanDate | date:'shortDate'}}</span>
                                                </a>

                                                <a
                                                    class="w-full border-t-2 border-gray-100 font-medium text-gray-600 py-4 px-4 w-full block hover:bg-gray-100 transition duration-150">
                                                    Fecha de Pago:
                                                    <span
                                                        class="text-gray-400 text-sm">{{getLoanById?.paymentDate | date:'shortDate'}}</span>
                                                </a>
                                            </div>
                                            <div class="w-full flex-1 mx-2 svelte-1l8159u">
                                                <!--parte nueva-->
                                                <div class=" flex item-center">
                                                    <div class="w-1/2">
                                                        <div
                                                            class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                            Abono</div>
                                                        <div class="flex items-center w-full">
                                                            <p class="pr-2 text-2xl">Q.</p>
                                                            <div
                                                                class="bg-white my-2 p-1 flex border border-gray-200 rounded items-center w-full">
                                                                <input formControlName="payment" placeholder="Abono"
                                                                    type="number" [value]="getLoanById?.payment"
                                                                    class="p-1 px-2 appearance-none outline-none w-full text-gray-800">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="w-1/2 h-full item-center">
                                                        <div
                                                            class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                            Monto</div>
                                                        <div class="flex items-center w-full">
                                                            <p class="pr-2 text-2xl">Q. {{getLoanById?.amount}}.00</p>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="mb-4">
                                                    <label
                                                        class="flex block text-grey-darker text-sm font-bold mb-2">Estado
                                                        de
                                                        Cancelación: <p class="pl-2 italic text-green-500">
                                                            {{getLoanById?.canceled}}</p></label>
                                                    <select formControlName="canceled" [value]="getLoanById?.canceled"
                                                        class=" border rounded w-full py-2 px-3 text-grey-darker">
                                                        <option>-- Estado de Cancelación --</option>
                                                        <option>true</option>
                                                        <option>false</option>
                                                    </select>
                                                    <p class="text-sm text-red-500 italic">Seleccione el estado de
                                                        cancelación</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="modal-action  rounded-b-2xl px-5 mt-2 pb-5">

                                <label (click)="resetForm(); editLoanModal = false" for="search-modal"
                                    class="btn-modal-close btn btn-sm bg-white hover:bg-grey-300 hover:text-white text-black !font-medium">Cerrar</label>
                                <button (click)="editLoan(getLoanById?._id)"
                                    class="btn btn-sm bg-green-400 hover:bg-green-700 !font-medium">Editar
                                    Prestamo</button>
                            </div>
                            <div class="modal-action  rounded-b-2xl px-5 mt-2 pb-5">
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--ELIMINAR PRESTAMO-->
<div data-theme="light" class="modal-container">
    <input type="checkbox" id="search-modal" [checked]="deleteLoanModal" class="modal-toggle">
    <div class="modal bg-opacity-50 bg-blacks">
        <div class="modal-box p-0 pt-6 text-left">

            <div class="w-full bg-grey-500">
                <div class="container mx-auto py-8">
                    <div class="w-96 mx-auto bg-white rounded border border-green-500">
                        <div class="container mx-auto my-4">
                            <div>

                                <div class="bg-white relative w-11/12 mx-auto">
                                    <!--<div class="flex justify-center">
                                      <img src="https://pantazisoft.com/img/avatar-2.jpeg" alt="" class="rounded-full mx-auto absolute -top-20 w-32 h-32 shadow-2xl border-4 border-white">
                              </div>-->

                                    <div class="mt-4">
                                        <div class="my-5">
                                            <a
                                                class="text-gray-200 block font-bold text-center text-2xl leading-6 px-6 py-3 bg-green-500">Tipo:
                                                {{getLoanById?.typeLoan}}
                                                <span class="font-bold"></span></a>
                                        </div>
                                        <div class="w-full">
                                            <h1 class="font-bold text-center text-3xl text-gray-900">
                                                Descripción
                                            </h1>
                                            <p class="leading-relaxed text-base">Tipo: {{getLoanById?.description.type}}
                                            </p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Modelo:
                                                {{getLoanById?.description.mark}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Modelo:
                                                {{getLoanById?.description.model}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Año:
                                                {{getLoanById?.description.year}}</p>


                                            <p *ngIf="getLoanById?.typeLoan != 'Vehículo'"
                                                class="leading-relaxed text-base">
                                                Descripción:
                                                {{getLoanById?.description.description}}</p>
                                            <p *ngIf="getLoanById?.typeLoan === 'Inmobiliario'"
                                                class="leading-relaxed text-base">Dirección:
                                                {{getLoanById?.description.direction}}</p>
                                            <div class="mt-5 w-full">

                                                <a
                                                    class="w-full border-t-2 border-gray-100 font-medium text-gray-600 py-4 px-4 w-full block hover:bg-gray-100 transition duration-150">

                                                    Fecha del Prestamo:
                                                    <span class="text-gray-400 text-sm">{{getLoanById?.loanDate}}</span>
                                                </a>

                                                <a
                                                    class="w-full border-t-2 border-gray-100 font-medium text-gray-600 py-4 px-4 w-full block hover:bg-gray-100 transition duration-150">
                                                    Fecha de Pago:
                                                    <span
                                                        class="text-gray-400 text-sm">{{getLoanById?.paymentDate}}</span>
                                                </a>
                                            </div>
                                            <div class="w-full flex-1 mx-2 svelte-1l8159u">
                                                <div class=" flex item-center">
                                                    <div class="w-1/2">
                                                        <div
                                                            class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                            Abono</div>
                                                        <div class="flex items-center w-full">
                                                            <p class="pr-2 text-2xl">Q. {{getLoanById?.payment}}.00</p>
                                                        </div>
                                                    </div>
                                                    <div class="w-1/2">
                                                        <div
                                                            class="font-bold text-gray-600 text-xs leading-8 uppercase h-6 mx-2 mt-3">
                                                            Monto</div>
                                                        <div class="flex items-center w-full">
                                                            <p class="pr-2 text-2xl">Q. {{getLoanById?.amount}}.00</p>
                                                        </div>
                                                    </div>
                                                </div>



                                                <div class="mb-4">
                                                    <label *ngIf="getLoanById?.canceled === true"
                                                        class="flex block text-grey-darker text-sm font-bold mb-2">Estado
                                                        de
                                                        Cancelación: <p class="pl-2 italic text-green-500">
                                                            Cancelado</p></label>

                                                            <label *ngIf="getLoanById?.canceled === false"
                                                            class="flex block text-grey-darker text-sm font-bold mb-2">Estado
                                                            de
                                                            Cancelación: <p class="pl-2 italic text-green-500">
                                                                Sin Cancelar</p></label>
                                                </div>




                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="modal-action  rounded-b-2xl px-5 mt-2 pb-5">

                                <label (click)="deleteLoanModal = false" for="search-modal"
                                    class="btn-modal-close btn btn-sm bg-white hover:bg-grey-300 hover:text-white text-black !font-medium">Cerrar</label>
                                <button (click)="deleteLoan(getLoanById?._id)"
                                    class="btn btn-sm bg-green-400 hover:bg-green-700 !font-medium">Eliminar
                                    Prestamo</button>
                            </div>
                            <div class="modal-action  rounded-b-2xl px-5 mt-2 pb-5">
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
